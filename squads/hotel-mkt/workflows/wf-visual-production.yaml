# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AIOS Workflow: Visual Production Pipeline (Hotel Marketing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Squad: hotel-mkt
# Version: 1.0.0
# Duration: 3-7 days
# Target: AI-powered visual content creation for campaigns (Nano Banana + DALL-E)
# DNA: Google Nano Banana (text-heavy visuals) + OpenAI DALL-E (lifestyle imagery)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

workflow:
  name: "Visual Production Pipeline"
  id: "wf-visual-production"
  squad: "hotel-mkt"
  version: "1.0.0"

  metadata:
    description: "Pipeline completo de produÃ§Ã£o visual usando IA: Nano Banana para peÃ§as com texto, DALL-E para imagens aspiracionais"
    target_output: "PeÃ§as visuais prontas para uso em campanhas (ads, social, email, landing pages)"
    ai_tools:
      - name: "Nano Banana by Google"
        purpose: "CarrossÃ©is, infogrÃ¡ficos, posts com texto, ads com CTA"
        integration: "Google AI Studio / Gemini API"
        watermark: "SynthID (transparÃªncia obrigatÃ³ria)"
      - name: "DALL-E by OpenAI"
        purpose: "Hero images, lifestyle shots, imagens aspiracionais para campanhas"
        integration: "OpenAI API"
        watermark: "None (AI disclosure in caption recommended)"
    calling_workflows:
      - "wf-seasonal-campaign (Phase 4)"
      - "wf-content-machine (Phase 3)"
      - "wf-paid-ads-scale (Phase 2)"
      - "wf-email-lifecycle (Phase 2)"
      - "wf-direct-booking-funnel (Phase 3)"
    success_metrics:
      - "Brand compliance score â‰¥ 8/10"
      - "Human approval rate â‰¥ 95%"
      - "Text legibility on mobile â‰¥ 9/10"
      - "Emotional impact score â‰¥ 7/10"
      - "Production time â‰¤ 7 days"

  inputs:
    - name: "campaign_brief"
      type: "document"
      required: true
      description: "Contexto da campanha, objetivo, pÃºblico-alvo, mensagem central"
      source: "Calling workflow (seasonal-campaign, content-machine, etc.)"
    - name: "brand_guidelines"
      type: "document"
      required: true
      description: "Cores, tipografia, estilo fotogrÃ¡fico, identidade visual do hotel"
      source: "squads/hotel-mkt/brand/guidelines.md"
    - name: "output_specs"
      type: "json"
      required: true
      description: "Formatos, tamanhos, quantidades (ex: 10 carrossÃ©is 1080x1080, 5 hero images 1920x1080)"
      source: "Calling workflow"
    - name: "messaging_framework"
      type: "document"
      required: false
      description: "Copy hooks, CTAs, value propositions para incorporar nas peÃ§as visuais"
      source: "Phase 2 de seasonal-campaign ou copywriter agent"
    - name: "hormozi_source"
      type: "directory"
      required: true
      description: "Frameworks de hooks, ads, e value equation do Hormozi para aplicar em visuals"
      source: "data/hormozi-source/"

  outputs:
    - name: "final_assets"
      type: "collection"
      description: "Todas peÃ§as visuais aprovadas, organizadas por formato e uso"
      formats: ["PNG", "JPG", "WebP"]
    - name: "carousel_preview"
      type: "html"
      description: "Preview interativo de carrossÃ©is para validaÃ§Ã£o antes de publicaÃ§Ã£o"
    - name: "prompts_archive"
      type: "markdown"
      description: "Todos prompts usados, documentados para reproduÃ§Ã£o futura"
    - name: "approval_record"
      type: "json"
      description: "Registro de aprovaÃ§Ãµes humanas com timestamps e decisÃµes"
    - name: "production_report"
      type: "pdf"
      description: "RelatÃ³rio final: peÃ§as criadas, aprovaÃ§Ã£o rate, tempo de produÃ§Ã£o, learnings"

  duration:
    estimated: "3-7 dias"
    phases:
      brief_alignment: "1 dia"
      prompt_engineering: "1-2 dias"
      generation: "1-2 dias"
      curation_qc: "1-2 dias"
      human_approval: "1-2 dias (pode ter 2 rounds de revisÃ£o)"
      export_delivery: "1 dia"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 1: BRIEF & BRAND ALIGNMENT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

phases:
  - name: "Brief & Brand Alignment"
    id: "phase-1-brief"
    duration: "1 dia"
    agents:
      - role: "hotel-visual-producer"
        responsibility: "primary"
        tasks:
          - "Receber brief da campanha do agente solicitante"
          - "Definir estilo visual para esta campanha especÃ­fica"
          - "Determinar specs de output (formatos, tamanhos, quantidade)"
          - "Revisar brand guidelines (cores, fonts, estilo fotogrÃ¡fico)"
          - "Decidir qual ferramenta usar por peÃ§a (Nano Banana vs DALL-E)"
      - role: "hotel-mkt-chief"
        responsibility: "secondary"
        tasks:
          - "Validar alinhamento do estilo visual com estratÃ©gia de campanha"
          - "Aprovar direÃ§Ã£o criativa antes de produÃ§Ã£o em escala"

    tasks:
      - id: "brief-001"
        name: "Recebimento e AnÃ¡lise do Brief"
        agent: "hotel-visual-producer"
        inputs:
          - "campaign_brief"
          - "output_specs"
        actions:
          - "Ler brief completo da campanha (objetivo, pÃºblico, mensagem)"
          - "Identificar agente solicitante (@social-creator, @ads-specialist, @email-maestro)"
          - "Extrair requisitos visuais do brief (mood, estilo, restriÃ§Ãµes)"
          - "Documentar contexto: campanha sazonal? ads? email? landing page?"
          - "Definir timeline de entrega compatÃ­vel com calling workflow"
        outputs:
          - "brief_summary.md"
        duration: "2 horas"

      - id: "brief-002"
        name: "DefiniÃ§Ã£o de Estilo Visual"
        agent: "hotel-visual-producer"
        inputs:
          - "brand_guidelines"
          - "campaign_brief"
        actions:
          - "Criar mood board de referÃªncia (Pinterest, Behance, hotel competitor visuals)"
          - "Definir paleta de cores para esta campanha (dentro do brand guideline)"
          - "Escolher estilo fotogrÃ¡fico: lifestyle, editorial, UGC-style, minimalist"
          - "Definir tipografia e tratamento de texto (se aplicÃ¡vel)"
          - "Documentar todos elementos de estilo em visual_style_guide.md"
        outputs:
          - "visual_style_guide.md"
          - "mood_board.pdf"
        duration: "3 horas"

      - id: "brief-003"
        name: "Output Specs & Tool Selection"
        agent: "hotel-visual-producer"
        inputs:
          - "output_specs"
        actions:
          - "Listar todos formatos necessÃ¡rios (1080x1080, 1200x628, 1920x1080, etc.)"
          - "Definir quantidade de peÃ§as por formato"
          - "Decidir ferramenta por tipo de peÃ§a:"
          - "  â†’ Nano Banana: carrossÃ©is com texto, infogrÃ¡ficos, posts sociais com CTA, ads com copy"
          - "  â†’ DALL-E: hero images, lifestyle shots, imagens aspiracionais sem texto"
          - "Criar matriz de produÃ§Ã£o: [formato x quantidade x ferramenta]"
        outputs:
          - "production_matrix.xlsx"
        duration: "2 horas"

      - id: "brief-004"
        name: "Brand Guidelines Review"
        agent: "hotel-visual-producer"
        inputs:
          - "brand_guidelines"
        actions:
          - "Carregar cores oficiais do hotel (HEX codes)"
          - "Revisar tipografia permitida (fonts primÃ¡rias e secundÃ¡rias)"
          - "Estudar estilo fotogrÃ¡fico atual do hotel (warm? airy? dramatic?)"
          - "Identificar elementos obrigatÃ³rios (logo placement, watermark, disclaimers)"
          - "Validar se hÃ¡ restriÃ§Ãµes legais ou Ã©ticas (ex: nÃ£o mostrar Ã¡lcool se hotel Ã© family-friendly)"
        outputs:
          - "brand_checklist.json"
        duration: "1 hora"

      - id: "brief-005"
        name: "DireÃ§Ã£o Criativa Inicial"
        agent: "hotel-visual-producer"
        actions:
          - "Escrever creative brief de 1 pÃ¡gina com direÃ§Ã£o visual clara"
          - "Definir 3-5 conceitos visuais principais (ex: 'sunset romance', 'family fun', 'luxury escape')"
          - "Alinhar conceitos com messaging framework (se disponÃ­vel)"
          - "Preparar documento para apresentaÃ§Ã£o ao Chief"
        outputs:
          - "creative_direction.md"
        duration: "2 horas"

    checkpoint:
      name: "Brief Alignment Checkpoint"
      criteria:
        - "Visual style guide completo com mood board e referÃªncias"
        - "Output specs definidos com matriz de produÃ§Ã£o clara"
        - "Brand guidelines carregados e checklist criado"
        - "Creative direction aprovada por Chief"
        - "Tool selection (Nano vs DALL-E) mapeada por peÃ§a"
      approvers:
        - "hotel-mkt-chief"
      output_required: true

    quality_gates:
      - metric: "Clareza da direÃ§Ã£o criativa"
        threshold: ">8/10"
      - metric: "Alinhamento com brand guidelines"
        threshold: "100%"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 2: PROMPT ENGINEERING
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: "Prompt Engineering"
    id: "phase-2-prompts"
    duration: "1-2 dias"
    depends_on: ["phase-1-brief"]
    agents:
      - role: "hotel-visual-producer"
        responsibility: "primary"
        tasks:
          - "Escrever prompts Nano Banana para peÃ§as text-heavy"
          - "Escrever prompts DALL-E para imagens aspiracionais"
          - "Incorporar brand elements em todos prompts"
          - "Aplicar frameworks Hormozi para hooks visuais"
          - "Criar variation matrix para A/B testing"

    tasks:
      - id: "prompts-001"
        name: "Nano Banana Prompt Writing"
        agent: "hotel-visual-producer"
        inputs:
          - "visual_style_guide.md"
          - "brand_checklist.json"
          - "messaging_framework"
          - "hormozi_source/agents/hormozi-hooks.md"
          - "hormozi_source/agents/hormozi-ads.md"
        actions:
          - "Escrever prompts para carrossÃ©is (10 slides cada, mÃ¡ximo consistÃªncia visual)"
          - "Incluir em cada prompt: paleta de cores, tipografia, estilo visual, mood"
          - "Incorporar texto especÃ­fico: headlines, CTAs, body copy (do messaging framework)"
          - "Aplicar Hormozi hooks visuais: scarcity ('Ãšltimas 5 vagas'), proof (reviews), urgency (countdown)"
          - "Criar variaÃ§Ãµes: 3-5 Ã¢ngulos diferentes por conceito"
          - "Garantir text legibility: contraste, tamanho de fonte, espaÃ§amento"
          - "Exemplo de prompt Nano Banana:"
          - "  'Create a 10-slide Instagram carousel for a luxury beach hotel Carnaval campaign."
          - "   Style: Vibrant, warm tones (HEX: #FF6B35, #F7931E, #FDC830), editorial photography."
          - "   Slide 1: Hero image of beach at sunset with bold headline: CARNAVAL 2026 - RESERVE AGORA"
          - "   Slide 2: Value prop #1 with icon and short copy: Pacote All-Inclusive..."
          - "   [continue for all 10 slides]"
          - "   Typography: Montserrat Bold for headlines, Open Sans for body."
          - "   Ensure all text is readable on mobile (minimum 18pt font size)."
          - "   Include hotel logo in bottom right corner of each slide.'"
        outputs:
          - "nano_prompts_library.md"
        duration: "1 dia"

      - id: "prompts-002"
        name: "DALL-E Prompt Writing"
        agent: "hotel-visual-producer"
        inputs:
          - "visual_style_guide.md"
          - "brand_checklist.json"
        actions:
          - "Escrever prompts para hero images e lifestyle shots"
          - "Focar em atmosfera, emoÃ§Ã£o, aspiraÃ§Ã£o (nÃ£o texto)"
          - "Incorporar brand elements sutilmente (cores, mood, estilo)"
          - "Definir composiÃ§Ã£o: lighting, angle, depth of field"
          - "Criar variaÃ§Ãµes: 5 Ã¢ngulos Ã— 3 estilos (15 prompts por conceito)"
          - "Exemplo de prompt DALL-E:"
          - "  'A luxurious beach hotel room interior at golden hour, warm sunlight streaming"
          - "   through floor-to-ceiling windows overlooking turquoise ocean. Modern Brazilian"
          - "   design with natural wood accents, white linen bedding, and tropical plants."
          - "   Photographic style: editorial, soft focus, warm color grading (sunset tones)."
          - "   Composition: wide angle, symmetrical, inviting. Mood: serene, aspirational,"
          - "   romantic. No people, no text. High-end travel magazine aesthetic.'"
        outputs:
          - "dalle_prompts_library.md"
        duration: "4 horas"

      - id: "prompts-003"
        name: "Hormozi Visual Hooks Integration"
        agent: "hotel-visual-producer"
        inputs:
          - "hormozi_source/agents/hormozi-hooks.md"
          - "hormozi_source/agents/hormozi-ads.md"
          - "hormozi_source/frameworks/hooks-framework.md"
        actions:
          - "Revisar frameworks Hormozi: hooks visuais que convertem"
          - "Aplicar padrÃµes GOATed em prompts:"
          - "  â†’ Scarcity visual: 'Only 5 rooms left' badge, countdown timer graphic"
          - "  â†’ Social proof: Star ratings overlay, 'Rated #1' badge"
          - "  â†’ Before/After: Split screen showing transformation"
          - "  â†’ Urgency: Clock icon, 'Ends Tonight' ribbon"
          - "Documentar quais hooks foram aplicados em cada prompt"
          - "Criar variation matrix: testar hooks diferentes na mesma imagem"
        outputs:
          - "hormozi_visual_patterns.md"
        duration: "3 horas"

      - id: "prompts-004"
        name: "Variation Matrix Creation"
        agent: "hotel-visual-producer"
        actions:
          - "Criar matriz de variaÃ§Ãµes para cada conceito visual"
          - "DimensÃµes da matriz: [Conceito Ã— Ã‚ngulo Ã— Estilo Ã— Formato]"
          - "Exemplo: 'Carnaval Offer Carousel' â†’ 5 Ã¢ngulos (scarcity, social proof, luxury, fun, romance)"
          - "                                   â†’ 3 estilos (editorial, UGC-style, minimalist)"
          - "                                   â†’ N formatos (1080x1080, 1200x628)"
          - "Total prompts = conceitos Ã— Ã¢ngulos Ã— estilos Ã— formatos"
          - "Documentar tudo em planilha para tracking de geraÃ§Ã£o"
        outputs:
          - "variation_matrix.xlsx"
        duration: "2 horas"

      - id: "prompts-005"
        name: "Prompts Library Documentation"
        agent: "hotel-visual-producer"
        actions:
          - "Consolidar todos prompts em documento Ãºnico: prompts_library.md"
          - "Estrutura: [Tipo de peÃ§a > Ferramenta > Conceito > VariaÃ§Ãµes > Prompt completo]"
          - "Adicionar metadata: ferramenta, formato, output esperado, versÃ£o do modelo"
          - "Incluir notas de produÃ§Ã£o: configuraÃ§Ãµes recomendadas (temperature, guidance scale)"
          - "Versionamento: v1.0 - primeira versÃ£o, atualizar se houver mudanÃ§as"
        outputs:
          - "prompts_library.md (versÃ£o consolidada)"
        duration: "2 horas"

    checkpoint:
      name: "Prompt Engineering Review"
      criteria:
        - "MÃ­nimo 3 prompts por tipo de peÃ§a (carousel, hero, social post, ad)"
        - "Brand elements incluÃ­dos em 100% dos prompts"
        - "Hormozi patterns aplicados em peÃ§as de conversÃ£o (ads, CTAs)"
        - "Variation matrix completa com tracking de todas variaÃ§Ãµes"
        - "Text legibility garantida (contraste, tamanho) em prompts Nano Banana"
      approvers:
        - "hotel-visual-producer"
        - "hotel-mkt-chief"
      output_required: true

    quality_gates:
      - metric: "Clareza dos prompts (podem ser reproduzidos?)"
        threshold: ">9/10"
      - metric: "Brand compliance embedded in prompts"
        threshold: "100%"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 3: GENERATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: "Generation"
    id: "phase-3-generation"
    duration: "1-2 dias"
    depends_on: ["phase-2-prompts"]
    agents:
      - role: "hotel-visual-producer"
        responsibility: "primary"
        tasks:
          - "Executar prompts Nano Banana via Gemini API / Google AI Studio"
          - "Executar prompts DALL-E via OpenAI API"
          - "Gerar 3-5 variaÃ§Ãµes por peÃ§a"
          - "Manter consistÃªncia visual em carrossÃ©is (mesma paleta/estilo para 10 slides)"
          - "Quality filter: descartar < 7/10"

    tasks:
      - id: "gen-001"
        name: "Nano Banana Batch Generation"
        agent: "hotel-visual-producer"
        inputs:
          - "nano_prompts_library.md"
          - "production_matrix.xlsx"
        actions:
          - "Configurar acesso ao Google AI Studio ou Gemini API"
          - "Executar prompts Nano Banana em batch:"
          - "  â†’ Para carrossÃ©is: gerar TODOS os 10 slides de uma vez para garantir consistÃªncia"
          - "  â†’ Manter mesma seed/style para sequÃªncias relacionadas"
          - "  â†’ Gerar 3-5 variaÃ§Ãµes por carousel (diferentes hooks ou layouts)"
          - "ConfiguraÃ§Ãµes recomendadas:"
          - "  â†’ Resolution: 1080x1080 ou conforme specs"
          - "  â†’ Guidance scale: 7-9 (balance criatividade vs fidelidade ao prompt)"
          - "  â†’ Steps: 30-50"
          - "Quality filter manual: revisar cada imagem, score 1-10, descartar <7"
          - "Organizar output em folders: /nano/carousels/carnaval_2026/variation_1/"
          - "Verificar SynthID watermark presente (transparÃªncia)"
        outputs:
          - "nano_raw_output/ (folder estruturado)"
        duration: "1 dia"

      - id: "gen-002"
        name: "DALL-E Image Generation"
        agent: "hotel-visual-producer"
        inputs:
          - "dalle_prompts_library.md"
          - "production_matrix.xlsx"
        actions:
          - "Configurar acesso Ã  OpenAI API (DALL-E 3)"
          - "Executar prompts DALL-E em batch:"
          - "  â†’ Gerar 3-5 variaÃ§Ãµes por conceito"
          - "  â†’ Usar different seeds para variaÃ§Ãµes autÃªnticas"
          - "ConfiguraÃ§Ãµes recomendadas:"
          - "  â†’ Model: DALL-E 3"
          - "  â†’ Size: 1024x1024, 1792x1024, 1024x1792 (conforme specs)"
          - "  â†’ Quality: HD"
          - "Quality filter: revisar, score 1-10, descartar <7"
          - "Organizar output: /dalle/hero_images/luxury_suite/variation_1/"
          - "Documentar prompts exatos usados e seeds (para reproduÃ§Ã£o)"
        outputs:
          - "dalle_raw_output/ (folder estruturado)"
        duration: "4 horas"

      - id: "gen-003"
        name: "Carousel Consistency Check"
        agent: "hotel-visual-producer"
        actions:
          - "Revisar sequÃªncias de carrossÃ©is slide-by-slide"
          - "Verificar consistÃªncia visual:"
          - "  â†’ Paleta de cores consistente em todos 10 slides?"
          - "  â†’ Tipografia consistente?"
          - "  â†’ Estilo fotogrÃ¡fico mantido?"
          - "  â†’ Elementos de marca presentes?"
          - "Se inconsistente: regenerar slides problemÃ¡ticos com prompt ajustado"
          - "Criar preview HTML interativo para validaÃ§Ã£o visual"
        outputs:
          - "carousel_consistency_report.md"
          - "carousel_preview_draft.html"
        duration: "3 horas"

      - id: "gen-004"
        name: "Quality Scoring & Filtering"
        agent: "hotel-visual-producer"
        actions:
          - "Revisar TODAS imagens geradas (Nano + DALL-E)"
          - "Aplicar rubrica de qualidade (score 1-10):"
          - "  â†’ ResoluÃ§Ã£o adequada? (2 pontos)"
          - "  â†’ Brand compliance? (2 pontos)"
          - "  â†’ EstÃ©tica/beleza? (2 pontos)"
          - "  â†’ Text legibility (se aplicÃ¡vel)? (2 pontos)"
          - "  â†’ Emotional impact? (2 pontos)"
          - "Descartar tudo com score <7/10"
          - "Mover peÃ§as â‰¥7/10 para /curated/"
          - "Documentar scores em quality_scores.xlsx"
        outputs:
          - "quality_scores.xlsx"
          - "/curated/ (folder com peÃ§as aprovadas)"
        duration: "4 horas"

      - id: "gen-005"
        name: "Organization & Metadata"
        agent: "hotel-visual-producer"
        actions:
          - "Organizar assets em estrutura final:"
          - "  /final_assets/"
          - "    /social/ (carrossÃ©is, posts)"
          - "    /ads/ (ad creatives)"
          - "    /email/ (headers, visuals para email)"
          - "    /landing/ (hero images, banners)"
          - "Renomear arquivos com naming convention:"
          - "  carnaval_2026_carousel_scarcity_v1_slide01.png"
          - "Criar metadata.json para cada asset (prompt usado, ferramenta, data, score)"
          - "Gerar manifest.json com lista completa de todos assets"
        outputs:
          - "/final_assets/ (organized)"
          - "metadata.json (per asset)"
          - "manifest.json"
        duration: "2 horas"

    checkpoint:
      name: "Generation Quality Check"
      criteria:
        - "MÃ­nimo 3 variaÃ§Ãµes geradas por peÃ§a especificada"
        - "ResoluÃ§Ã£o â‰¥ 1080p para todos assets"
        - "Text legibility on mobile verified (Nano Banana pieces)"
        - "SynthID watermark presente em Nano Banana outputs"
        - "Quality scores documentados para todos assets"
        - "Carousel slides mantÃªm consistÃªncia visual"
      approvers:
        - "hotel-visual-producer"
      output_required: true

    quality_gates:
      - metric: "GeraÃ§Ã£o success rate"
        threshold: ">80%"
      - metric: "Quality score mÃ©dio"
        threshold: "â‰¥7/10"
      - metric: "Text legibility (mobile)"
        threshold: ">90% readable"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 4: CURATION & QUALITY CONTROL
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: "Curation & Quality Control"
    id: "phase-4-curation"
    duration: "1-2 dias"
    depends_on: ["phase-3-generation"]
    agents:
      - role: "hotel-visual-producer"
        responsibility: "primary"
        tasks:
          - "Brand compliance check detalhado"
          - "Text legibility check em dispositivos mÃ³veis"
          - "Emotional impact scoring"
          - "Technical quality validation"
          - "SeleÃ§Ã£o top 2-3 variaÃ§Ãµes por peÃ§a"
      - role: "hotel-social-creator"
        responsibility: "secondary"
        tasks:
          - "Validar carrossÃ©is: flow lÃ³gico, storytelling visual"
          - "Feedback sobre usabilidade em plataformas sociais"

    tasks:
      - id: "curation-001"
        name: "Brand Compliance Audit"
        agent: "hotel-visual-producer"
        inputs:
          - "/curated/"
          - "brand_checklist.json"
        actions:
          - "Revisar cada asset contra brand checklist:"
          - "  â†’ Cores corretas? (verificar HEX codes)"
          - "  â†’ Tipografia permitida?"
          - "  â†’ Estilo fotogrÃ¡fico alinhado?"
          - "  â†’ Logo presente onde obrigatÃ³rio?"
          - "  â†’ Identidade visual do hotel reconhecÃ­vel?"
          - "Scoring: Brand Compliance Score 1-10 por asset"
          - "Descartar ou marcar para ajuste se score <8/10"
        outputs:
          - "brand_compliance_report.xlsx"
        duration: "4 horas"

      - id: "curation-002"
        name: "Mobile Legibility Check"
        agent: "hotel-visual-producer"
        actions:
          - "Testar text legibility em dispositivo mÃ³vel real (ou emulador)"
          - "Abrir cada peÃ§a Nano Banana em smartphone (arm's length test)"
          - "Verificar:"
          - "  â†’ Headline legÃ­vel a 30cm de distÃ¢ncia?"
          - "  â†’ Contraste suficiente (texto vs background)?"
          - "  â†’ Font size adequado (mÃ­nimo 18pt equivalente)?"
          - "  â†’ Call-to-action visÃ­vel e claro?"
          - "Scoring: Legibility Score 1-10"
          - "Reprovar se score <9/10 (legibilidade Ã© crÃ­tica)"
        outputs:
          - "legibility_test_results.xlsx"
        duration: "3 horas"

      - id: "curation-003"
        name: "Emotional Impact Scoring"
        agent: "hotel-visual-producer"
        inputs:
          - "/curated/"
          - "visual_style_guide.md"
        actions:
          - "Avaliar impacto emocional de cada peÃ§a:"
          - "  â†’ Cria FOMO (fear of missing out)?"
          - "  â†’ Desperta desejo de estar lÃ¡?"
          - "  â†’ Evoca emoÃ§Ã£o positiva (alegria, relaxamento, romance)?"
          - "  â†’ Ã‰ memorÃ¡vel?"
          - "Scoring: Emotional Impact 1-10"
          - "Para ads e hero images, target â‰¥7/10"
          - "Para peÃ§as informativas (carrossÃ©is educacionais), â‰¥5/10 ok"
        outputs:
          - "emotional_impact_scores.xlsx"
        duration: "2 horas"

      - id: "curation-004"
        name: "Technical Quality Validation"
        agent: "hotel-visual-producer"
        actions:
          - "Verificar qualidade tÃ©cnica de cada asset:"
          - "  â†’ ResoluÃ§Ã£o correta (conforme specs)?"
          - "  â†’ Aspect ratio correto?"
          - "  â†’ Sem artifacts visuais (glitches, distorÃ§Ãµes)?"
          - "  â†’ Formato de arquivo correto (PNG, JPG, WebP)?"
          - "  â†’ Tamanho de arquivo otimizado (<500KB para web)?"
          - "Se problemas tÃ©cnicos: reprovar ou corrigir"
        outputs:
          - "technical_qa_report.xlsx"
        duration: "2 horas"

      - id: "curation-005"
        name: "Top Variations Selection"
        agent: "hotel-visual-producer"
        inputs:
          - "brand_compliance_report.xlsx"
          - "legibility_test_results.xlsx"
          - "emotional_impact_scores.xlsx"
          - "technical_qa_report.xlsx"
        actions:
          - "Consolidar todos scores em master_scores.xlsx"
          - "Calcular composite score: (BrandÃ—0.3 + LegibilityÃ—0.25 + EmotionÃ—0.25 + TechnicalÃ—0.2)"
          - "Ranquear variaÃ§Ãµes por composite score"
          - "Selecionar top 2-3 variaÃ§Ãµes por peÃ§a para approval"
          - "Justificar seleÃ§Ã£o com notas qualitativas"
        outputs:
          - "master_scores.xlsx"
          - "selected_for_approval/ (folder)"
        duration: "2 horas"

      - id: "curation-006"
        name: "Carousel Flow Validation"
        agent: "hotel-social-creator"
        inputs:
          - "/selected_for_approval/social/"
        actions:
          - "Revisar sequÃªncias de carrossÃ©is como storytelling visual"
          - "Verificar flow lÃ³gico:"
          - "  â†’ Slide 1 captura atenÃ§Ã£o (hook visual)?"
          - "  â†’ Slides 2-8 desenvolvem narrativa?"
          - "  â†’ Slide 9 reforÃ§a value prop?"
          - "  â†’ Slide 10 fecha com CTA forte?"
          - "Feedback sobre usabilidade em Instagram/Facebook"
          - "Sugerir ajustes de ordem ou conteÃºdo se necessÃ¡rio"
        outputs:
          - "carousel_flow_feedback.md"
        duration: "2 horas"

      - id: "curation-007"
        name: "Mockup Assembly for Approval"
        agent: "hotel-visual-producer"
        actions:
          - "Criar documento mockup_approval.pdf com todas peÃ§as selecionadas"
          - "Organizar por categoria: Social / Ads / Email / Landing"
          - "Incluir contexto de uso para cada peÃ§a"
          - "Adicionar scores e notas de curadoria"
          - "Preparar apresentaÃ§Ã£o clara para human approval"
          - "Atualizar carousel_preview.html com versÃ£o final interativa"
        outputs:
          - "mockup_approval.pdf"
          - "carousel_preview.html (updated)"
        duration: "3 horas"

    checkpoint:
      name: "Curation Quality Gate"
      criteria:
        - "Brand compliance score â‰¥ 8/10 para 100% dos assets selecionados"
        - "Mobile legibility score â‰¥ 9/10 para peÃ§as text-heavy"
        - "Emotional impact score â‰¥ 7/10 para ads e hero images"
        - "Technical QA passed para 100% dos assets"
        - "Carousel flow validado por social-creator"
        - "Mockup approval document pronto e bem apresentado"
      approvers:
        - "hotel-visual-producer"
        - "hotel-social-creator"
      output_required: true

    quality_gates:
      - metric: "Composite quality score mÃ©dio"
        threshold: "â‰¥8/10"
      - metric: "Assets aprovados vs gerados"
        threshold: ">60%"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 5: HUMAN APPROVAL âš ï¸ CRITICAL GATE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: "Human Approval"
    id: "phase-5-approval"
    duration: "1-2 dias (pode ter atÃ© 2 rounds de revisÃ£o)"
    depends_on: ["phase-4-curation"]
    agents:
      - role: "hotel-mkt-chief"
        responsibility: "primary"
        tasks:
          - "Apresentar mockup_approval.pdf ao hotel manager/owner (HUMAN)"
          - "Facilitar review: brand alignment, emotional tone, factual accuracy"
          - "Coletar feedback e decisÃµes"
          - "Gerenciar revision rounds se necessÃ¡rio"
          - "Documentar sign-off final"

    tasks:
      - id: "approval-001"
        name: "Mockup Presentation to Human Decision-Maker"
        agent: "hotel-mkt-chief"
        inputs:
          - "mockup_approval.pdf"
          - "carousel_preview.html"
        actions:
          - "Agendar reuniÃ£o com hotel manager/owner (human decision-maker)"
          - "Apresentar mockup document com contexto:"
          - "  â†’ Objetivo da campanha"
          - "  â†’ Onde cada peÃ§a serÃ¡ usada (social, ads, email, landing)"
          - "  â†’ Rational por trÃ¡s das escolhas criativas"
          - "Demonstrar carousel_preview.html interativo"
          - "Explicar scores de curadoria (brand, legibility, emotion)"
          - "Deixar claro: HUMAN APPROVAL OBRIGATÃ“RIA antes de prosseguir"
        outputs:
          - "presentation_record.md (notas da reuniÃ£o)"
        duration: "1-2 horas"

      - id: "approval-002"
        name: "Human Review & Feedback Collection"
        agent: "hotel-mkt-chief"
        actions:
          - "Humano revisa peÃ§as contra critÃ©rios:"
          - "  â†’ Brand alignment: 'Isso parece nosso hotel?'"
          - "  â†’ Emotional tone: 'Isso evoca a emoÃ§Ã£o certa?'"
          - "  â†’ Factual accuracy: 'InformaÃ§Ãµes corretas? Sem promessas falsas?'"
          - "  â†’ Target audience fit: 'Nosso pÃºblico vai se identificar?'"
          - "Humano seleciona variaÃ§Ãµes preferidas (entre as 2-3 apresentadas)"
          - "Humano indica mudanÃ§as desejadas (se houver):"
          - "  â†’ Mudar cor? Ajustar copy? Trocar imagem?"
          - "  â†’ Aprovar com ajustes pequenos?"
          - "  â†’ Reprovar e pedir regeneraÃ§Ã£o?"
          - "Documentar TODAS decisÃµes e feedback"
        outputs:
          - "human_feedback.json"
        duration: "1-2 horas"

      - id: "approval-003"
        name: "Revision Round (se necessÃ¡rio)"
        agent: "hotel-visual-producer"
        inputs:
          - "human_feedback.json"
        actions:
          - "Se humano solicitou mudanÃ§as:"
          - "  â†’ Identificar tipo de mudanÃ§a: minor tweak vs major regeneration"
          - "  â†’ Minor (ex: trocar cor, ajustar texto): fazer ediÃ§Ã£o manual ou small regen"
          - "  â†’ Major (ex: 'nÃ£o gostei da direÃ§Ã£o criativa'): voltar para Phase 3 (Generation) ou Phase 2 (Prompts)"
          - "Limitar a 2 revision rounds (para evitar infinite loop)"
          - "Se apÃ³s 2 rounds nÃ£o aprovar: escalar para decisÃ£o de KILL workflow"
          - "Preparar revised_mockup.pdf com mudanÃ§as aplicadas"
        outputs:
          - "revised_mockup.pdf (se aplicÃ¡vel)"
        duration: "4-8 horas (dependendo da magnitude das mudanÃ§as)"

      - id: "approval-004"
        name: "Final Human Sign-Off"
        agent: "hotel-mkt-chief"
        inputs:
          - "revised_mockup.pdf (ou mockup_approval.pdf se approved first time)"
        actions:
          - "Apresentar versÃ£o final (original ou revisada) para sign-off"
          - "Obter aprovaÃ§Ã£o EXPLÃCITA do humano:"
          - "  â†’ Verbal: 'Aprovado, pode usar' + confirmaÃ§Ã£o por escrito (email/slack)"
          - "  â†’ Documentar timestamp de aprovaÃ§Ã£o"
          - "  â†’ Registrar nome do aprovador (hotel manager/owner)"
          - "Se reprovar novamente apÃ³s 2 rounds: escalar kill_criteria do Gate G5"
          - "SÃ³ apÃ³s sign-off: avanÃ§ar para Phase 6 (Export)"
        outputs:
          - "approval_record.json (com timestamp, aprovador, peÃ§as aprovadas)"
        duration: "30 min"

      - id: "approval-005"
        name: "Approval Documentation"
        agent: "hotel-mkt-chief"
        actions:
          - "Criar registro formal de aprovaÃ§Ã£o em approval_record.json:"
          - "  â†’ approved_by: [Nome do hotel manager/owner]"
          - "  â†’ approved_at: [ISO timestamp]"
          - "  â†’ approved_assets: [lista de file paths]"
          - "  â†’ revision_rounds: [0, 1, ou 2]"
          - "  â†’ feedback_summary: [principais pontos do humano]"
          - "Arquivar mockup_approval.pdf e revised_mockup.pdf (se houver)"
          - "Comunicar aprovaÃ§Ã£o ao visual-producer para prosseguir"
        outputs:
          - "approval_record.json (final)"
        duration: "30 min"

    checkpoint:
      name: "âš ï¸ HUMAN APPROVAL GATE - NÃƒO NEGOCIÃVEL"
      criteria:
        - "âš ï¸ MUST: Hotel manager/owner aprovou EXPLICITAMENTE todas peÃ§as"
        - "âš ï¸ MUST: AprovaÃ§Ã£o documentada com timestamp e nome do aprovador"
        - "âš ï¸ MUST: Sem erros factuais em overlays de texto (preÃ§os, datas, ofertas)"
        - "âš ï¸ MUST: Brand alignment confirmado pelo humano (nÃ£o apenas pelo agent)"
        - "SHOULD: AprovaÃ§Ã£o obtida em â‰¤2 revision rounds (evitar infinite loop)"
      approvers:
        - "âš ï¸ CRITICAL: Hotel Manager/Owner (HUMAN - not AI agent)"
        - "hotel-mkt-chief (facilitador, nÃ£o decision-maker final)"
      output_required: true
      blocking: true

    quality_gates:
      - metric: "Human approval rate"
        threshold: "100%"
        reason: "Cannot proceed to export without explicit human sign-off"
      - metric: "Revision rounds"
        threshold: "â‰¤2"
        reason: "More than 2 rounds indicates fundamental creative misalignment"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE 6: EXPORT & DELIVERY
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: "Export & Delivery"
    id: "phase-6-export"
    duration: "1 dia"
    depends_on: ["phase-5-approval"]
    agents:
      - role: "hotel-visual-producer"
        responsibility: "primary"
        tasks:
          - "Exportar assets em todos formatos e tamanhos requeridos"
          - "Organizar por destino (social, ads, email, landing)"
          - "Criar carousel preview HTML interativo"
          - "Documentar prompts finais usados"
          - "Hand off para agentes solicitantes"
          - "Arquivar para reproduÃ§Ã£o futura"

    tasks:
      - id: "export-001"
        name: "Multi-Format Export"
        agent: "hotel-visual-producer"
        inputs:
          - "/selected_for_approval/"
          - "approval_record.json"
          - "production_matrix.xlsx"
        actions:
          - "Exportar cada asset aprovado em todos formatos requeridos:"
          - "  â†’ PNG (lossless, para assets com transparÃªncia ou alta qualidade)"
          - "  â†’ JPG (otimizado, para web e ads - quality 85-90%)"
          - "  â†’ WebP (para web moderna, menor tamanho - quality 85%)"
          - "Exportar em todos tamanhos especificados:"
          - "  â†’ Social: 1080x1080, 1080x1350, 1200x628"
          - "  â†’ Ads: 1200x628, 1080x1080, 1920x1080"
          - "  â†’ Email: 600x400, 1200x600"
          - "  â†’ Landing: 1920x1080, 2560x1440"
          - "Otimizar tamanho de arquivo (<500KB para web, <2MB para print)"
          - "Verificar qualidade apÃ³s compressÃ£o"
        outputs:
          - "/exports/ (multi-format, multi-size)"
        duration: "3 horas"

      - id: "export-002"
        name: "Destination Organization"
        agent: "hotel-visual-producer"
        actions:
          - "Organizar exports em estrutura por destino:"
          - "  /final_assets/"
          - "    /social/ (para @hotel-social-creator)"
          - "      /instagram/"
          - "      /facebook/"
          - "      /tiktok/"
          - "    /ads/ (para @hotel-ads-specialist)"
          - "      /google_display/"
          - "      /meta_ads/"
          - "    /email/ (para @hotel-email-maestro)"
          - "      /headers/"
          - "      /inline_images/"
          - "    /landing/ (para @hotel-direct-booking)"
          - "      /hero_images/"
          - "      /banners/"
          - "Naming convention: [campanha]_[tipo]_[variacao]_[tamanho].[formato]"
          - "  Ex: carnaval_2026_carousel_scarcity_v1_1080x1080.png"
        outputs:
          - "/final_assets/ (organized by destination)"
        duration: "1 hora"

      - id: "export-003"
        name: "Carousel Preview HTML"
        agent: "hotel-visual-producer"
        actions:
          - "Criar carousel_preview.html interativo para TODOS carrossÃ©is aprovados"
          - "Features:"
          - "  â†’ NavegaÃ§Ã£o slide-by-slide (setas esquerda/direita)"
          - "  â†’ Auto-play opcional (3s por slide)"
          - "  â†’ Thumbnail navigation"
          - "  â†’ Responsive (desktop + mobile preview)"
          - "  â†’ Link para cada asset exportado"
          - "PropÃ³sito: validaÃ§Ã£o final antes de publicaÃ§Ã£o, compartilhar com stakeholders"
        outputs:
          - "carousel_preview.html (final version)"
        duration: "2 horas"

      - id: "export-004"
        name: "Prompts Archive Documentation"
        agent: "hotel-visual-producer"
        inputs:
          - "prompts_library.md"
          - "approval_record.json"
        actions:
          - "Documentar prompts FINAIS usados (os que geraram peÃ§as aprovadas)"
          - "Criar prompts_archive.md com:"
          - "  â†’ Prompt completo"
          - "  â†’ Ferramenta (Nano Banana / DALL-E 3)"
          - "  â†’ ConfiguraÃ§Ãµes (model version, guidance scale, steps, seed)"
          - "  â†’ Asset resultante (file path)"
          - "  â†’ Composite quality score"
          - "  â†’ AprovaÃ§Ã£o humana (timestamp)"
          - "PropÃ³sito: reproduzir assets similares em futuras campanhas"
          - "Versionar: prompts_archive_v1.0.md"
        outputs:
          - "prompts_archive.md"
        duration: "2 horas"

      - id: "export-005"
        name: "Handoff to Requesting Agents"
        agent: "hotel-visual-producer"
        actions:
          - "Identificar agentes solicitantes (do campaign_brief):"
          - "  â†’ @hotel-social-creator (se chamado por content-machine)"
          - "  â†’ @hotel-ads-specialist (se chamado por paid-ads-scale)"
          - "  â†’ @hotel-email-maestro (se chamado por email-lifecycle)"
          - "  â†’ @hotel-direct-booking (se chamado por direct-booking-funnel)"
          - "Enviar handoff package para cada agente:"
          - "  â†’ Path para /final_assets/[destino]/"
          - "  â†’ carousel_preview.html link"
          - "  â†’ usage_guidelines.md (como usar cada peÃ§a, specs tÃ©cnicas)"
          - "  â†’ approval_record.json (para rastreabilidade)"
          - "Notificar agentes: 'Visual production COMPLETA. Assets prontos para uso.'"
        outputs:
          - "handoff_notifications.json"
        duration: "1 hora"

      - id: "export-006"
        name: "Archive for Future Campaigns"
        agent: "hotel-visual-producer"
        actions:
          - "Criar archive package para reproduÃ§Ã£o futura:"
          - "  /archive/visual_production_[campaign_name]_[date]/"
          - "    /final_assets/ (all approved assets)"
          - "    /prompts_archive.md"
          - "    /approval_record.json"
          - "    /mockup_approval.pdf"
          - "    /carousel_preview.html"
          - "    /production_report.pdf (criar a seguir)"
          - "Zipar package: visual_production_carnaval_2026.zip"
          - "Upload para repositÃ³rio central (Google Drive, S3, etc.)"
          - "Documentar location em master_archive_index.md"
        outputs:
          - "visual_production_[campaign].zip"
          - "master_archive_index.md (updated)"
        duration: "1 hora"

      - id: "export-007"
        name: "Production Report"
        agent: "hotel-visual-producer"
        inputs:
          - "approval_record.json"
          - "master_scores.xlsx"
          - "production_matrix.xlsx"
        actions:
          - "Criar production_report.pdf com:"
          - "  â†’ Executive Summary: peÃ§as criadas, approval rate, timeline"
          - "  â†’ Stats: total assets gerados vs aprovados, quality scores mÃ©dios"
          - "  â†’ Tools Used: Nano Banana vs DALL-E breakdown"
          - "  â†’ Learnings: o que funcionou bem, o que melhorar"
          - "  â†’ Recommendations: para futuras produÃ§Ãµes visuais"
          - "  â†’ Appendix: sample assets, prompts destacados"
          - "Apresentar ao Chief para review final do workflow"
        outputs:
          - "production_report.pdf"
        duration: "2 horas"

    checkpoint:
      name: "Export & Delivery Completion"
      criteria:
        - "Todos assets exportados em formatos e tamanhos requeridos"
        - "OrganizaÃ§Ã£o por destino (social/ads/email/landing) completa"
        - "carousel_preview.html funcional e testado"
        - "prompts_archive.md documentado com prompts finais"
        - "Handoffs enviados a todos agentes solicitantes"
        - "Archive package criado e armazenado em repositÃ³rio central"
        - "production_report.pdf completo com learnings"
      approvers:
        - "hotel-visual-producer"
        - "hotel-mkt-chief"
      output_required: true

    quality_gates:
      - metric: "Export completeness"
        threshold: "100%"
      - metric: "File size optimization"
        threshold: "<500KB para web assets"
      - metric: "Handoff acknowledgment from requesting agents"
        threshold: "100%"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ROLLBACK & CONTINGENCY
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

rollback:
  triggers:
    - condition: "Human approval rate <50% apÃ³s 2 revision rounds"
      action: "KILL workflow - fundamental creative misalignment"
      recovery: "Escalar para Chief: revisar brief inicial, redefinir direÃ§Ã£o criativa, restart Phase 1"
    - condition: "Quality scores consistentemente baixos (<6/10) em Phase 3"
      action: "PAUSE - problema com prompts ou ferramentas"
      recovery: "Revisar prompts (Phase 2), ajustar configuraÃ§Ãµes de geraÃ§Ã£o, testar em pequeno batch antes de continuar"
    - condition: "Brand compliance failures >30% em Phase 4"
      action: "RECYCLE para Phase 2 (Prompt Engineering)"
      recovery: "Brand guidelines nÃ£o embarcados corretamente nos prompts. Revisar e re-engineer prompts com foco em brand."
    - condition: "Text legibility failures >20% em Phase 4"
      action: "PAUSE - ajustar prompts Nano Banana"
      recovery: "Adicionar constraints de legibilidade mais explÃ­citos nos prompts (font size, contrast, spacing). Regenerar batch."
    - condition: "API failures ou rate limits (Google AI Studio / OpenAI)"
      action: "PAUSE - technical issue"
      recovery: "Aguardar rate limit reset, ou usar API alternativa (ex: Gemini API vs Google AI Studio). Continuar geraÃ§Ã£o apÃ³s resoluÃ§Ã£o."

  contingency_plans:
    - scenario: "Humano rejeita TODA direÃ§Ã£o criativa no Phase 5"
      actions:
        - "HOLD workflow atual"
        - "Agendar reuniÃ£o com Chief + Humano para entender gaps"
        - "Coletar referÃªncias visuais do humano (o que ELE gostaria de ver?)"
        - "RECYCLE para Phase 1: redefinir visual style guide com input direto do humano"
        - "Restart workflow com nova direÃ§Ã£o"
    - scenario: "Ferramentas de IA (Nano Banana ou DALL-E) indisponÃ­veis"
      actions:
        - "Verificar status de API (downtime temporÃ¡rio vs permanente)"
        - "Se temporÃ¡rio: PAUSE workflow, aguardar resoluÃ§Ã£o"
        - "Se permanente ou >24h downtime: considerar ferramenta alternativa (Midjourney, Stable Diffusion)"
        - "Se sem alternativa viÃ¡vel: escalar para humano designer (manual production)"
    - scenario: "Assets gerados tÃªm problemas de copyright (imagens similares a stock photos protegidos)"
      actions:
        - "Identificar assets problemÃ¡ticos"
        - "Descartar e regenerar com prompts mais especÃ­ficos (evitar genericidade)"
        - "Consultar legal se necessÃ¡rio"
        - "Documentar para evitar em futuras geraÃ§Ãµes"
    - scenario: "Workflow excede timeline (>7 dias)"
      actions:
        - "Identificar bottleneck: qual phase estÃ¡ atrasada?"
        - "Se Phase 5 (Human Approval): escalar urgÃªncia, limitar revision rounds a 1"
        - "Se Phase 3 (Generation): paralelizar mais, usar batch processing otimizado"
        - "Comunicar delay ao calling workflow, ajustar expectations"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SUCCESS CRITERIA & HANDOFF
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

success_criteria:
  primary:
    - metric: "Human approval rate"
      target: "â‰¥95%"
      measurement: "Assets aprovados / assets apresentados para aprovaÃ§Ã£o"
    - metric: "Brand compliance score"
      target: "â‰¥8/10"
      measurement: "MÃ©dia de brand compliance scores de todos assets finais"
    - metric: "Production timeline"
      target: "â‰¤7 dias"
      measurement: "Data de inÃ­cio Phase 1 â†’ data de conclusÃ£o Phase 6"

  secondary:
    - metric: "Text legibility on mobile"
      target: "â‰¥9/10"
      measurement: "Legibility scores de peÃ§as text-heavy (Nano Banana)"
    - metric: "Emotional impact score"
      target: "â‰¥7/10"
      measurement: "MÃ©dia de emotional impact scores para ads e hero images"
    - metric: "Quality score mÃ©dio"
      target: "â‰¥8/10"
      measurement: "Composite quality score de todos assets aprovados"
    - metric: "Generation efficiency"
      target: ">60%"
      measurement: "Assets aprovados / total assets gerados (eficiÃªncia)"
    - metric: "Revision rounds"
      target: "â‰¤2"
      measurement: "NÃºmero de revision rounds em Phase 5"

handoff:
  to_workflows:
    - "wf-seasonal-campaign (Phase 4 â†’ Phase 5)"
    - "wf-content-machine (Phase 3 â†’ Phase 4)"
    - "wf-paid-ads-scale (Phase 2 â†’ Phase 3)"
    - "wf-email-lifecycle (Phase 2 â†’ Phase 3)"
    - "wf-direct-booking-funnel (Phase 3 â†’ Phase 4)"
  to_agents:
    - "@hotel-social-creator"
    - "@hotel-ads-specialist"
    - "@hotel-email-maestro"
    - "@hotel-direct-booking"
  deliverables:
    - "final_assets.zip (organized by destination)"
    - "carousel_preview.html (interactive preview)"
    - "prompts_archive.md (for future reproduction)"
    - "approval_record.json (traceability)"
    - "production_report.pdf (learnings & stats)"
  knowledge_transfer:
    - "Review prompts_archive.md com requesting agents: como prompts foram construÃ­dos"
    - "Demonstrar carousel_preview.html: validaÃ§Ã£o antes de publicaÃ§Ã£o"
    - "Compartilhar learnings de production_report.pdf: o que funcionou, melhorias"
    - "Documentar em master_archive_index.md location do archive para future reference"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”’ ENFORCEMENT ENGINE
# Inspirado em: Cooper's Stage-Gate (P&G) + Salesforce Pipeline + Toyota Andon
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

enforcement_engine:
  version: "1.0.0"
  protocol: "stage-gate"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STATE MACHINE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  state_machine:
    initial_state: "phase-1-brief"
    terminal_states: ["completed", "killed"]
    transitions:
      - from: "phase-1-brief"
        to: "phase-2-prompts"
        gate: "G1"
        trigger: "auto_on_gate_pass"
      - from: "phase-2-prompts"
        to: "phase-3-generation"
        gate: "G2"
        trigger: "auto_on_gate_pass"
      - from: "phase-3-generation"
        to: "phase-4-curation"
        gate: "G3"
        trigger: "auto_on_gate_pass"
      - from: "phase-4-curation"
        to: "phase-5-approval"
        gate: "G4"
        trigger: "auto_on_gate_pass"
      - from: "phase-5-approval"
        to: "phase-6-export"
        gate: "G5"
        trigger: "manual_human_approval"
      - from: "phase-6-export"
        to: "completed"
        gate: "G6"
        trigger: "auto_on_gate_pass"
    invalid_transitions:
      - from: "phase-1-brief"
        to: "phase-3-generation"
        reason: "NÃ£o pode pular Prompt Engineering - Ã© o core do workflow visual"
      - from: "phase-3-generation"
        to: "phase-5-approval"
        reason: "NÃ£o pode apresentar para humano sem curadoria (Phase 4) - humano veria lixo junto com boas peÃ§as"
      - from: "phase-4-curation"
        to: "phase-6-export"
        reason: "NÃ£o pode exportar sem human approval - GATE CRÃTICO obrigatÃ³rio"
      - from: "phase-2-prompts"
        to: "phase-5-approval"
        reason: "NÃ£o pode aprovar prompts - precisa gerar peÃ§as reais primeiro"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # STAGE-GATES
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  gates:
    G1:
      name: "Brief â†’ Prompts Gate"
      between: ["phase-1-brief", "phase-2-prompts"]
      gatekeeper: "hotel-mkt-chief"
      sla: "24h"
      must_meet:
        - id: "G1-M1"
          criterion: "Visual style guide completo com mood board e mÃ­nimo 5 referÃªncias visuais"
          validation: "Arquivo visual_style_guide.md existe com seÃ§Ã£o 'Mood Board' + â‰¥5 image references"
          on_fail: "BLOCK"
        - id: "G1-M2"
          criterion: "Production matrix com tool selection (Nano vs DALL-E) para cada tipo de peÃ§a"
          validation: "production_matrix.xlsx tem coluna 'tool' preenchida para todas linhas"
          on_fail: "BLOCK"
        - id: "G1-M3"
          criterion: "Brand guidelines carregados e checklist criado (cores HEX, fonts, logo specs)"
          validation: "brand_checklist.json tem campos: colors[], fonts[], logo_placement, style_notes"
          on_fail: "BLOCK"
        - id: "G1-M4"
          criterion: "Creative direction aprovada por Chief (sign-off explÃ­cito)"
          validation: "creative_direction.md tem campo 'approved_by: hotel-mkt-chief' com timestamp"
          on_fail: "BLOCK"
      should_meet:
        - id: "G1-S1"
          criterion: "Clareza da direÃ§Ã£o criativa (visual producer entende exatamente o que criar?)"
          weight: 1.0
          min_score: 8
        - id: "G1-S2"
          criterion: "Alinhamento do estilo visual com brand identity do hotel"
          weight: 1.0
          min_score: 9
      kill_criteria:
        - id: "G1-K1"
          criterion: "Brief da campanha ausente ou vago demais (sem objetivo, pÃºblico, mensagem)"
          action: "KILL + return to calling workflow: brief insuficiente para produÃ§Ã£o visual"
        - id: "G1-K2"
          criterion: "Brand guidelines inexistentes (hotel nÃ£o tem identidade visual definida)"
          action: "HOLD + escalar: criar brand guidelines bÃ¡sicos antes de continuar"
      decision_options: ["GO", "KILL", "HOLD", "RECYCLE"]

    G2:
      name: "Prompts â†’ Generation Gate"
      between: ["phase-2-prompts", "phase-3-generation"]
      gatekeeper: "hotel-visual-producer"
      sla: "24h"
      must_meet:
        - id: "G2-M1"
          criterion: "MÃ­nimo 3 prompts escritos por tipo de peÃ§a (carousel, hero, social, ad)"
          validation: "prompts_library.md tem â‰¥3 prompts para cada tipo listado em production_matrix.xlsx"
          on_fail: "BLOCK"
        - id: "G2-M2"
          criterion: "Brand elements incluÃ­dos em 100% dos prompts (cores, style, mood)"
          validation: "Grep prompts_library.md for brand color HEX codes - must appear in all prompts"
          on_fail: "BLOCK"
        - id: "G2-M3"
          criterion: "Hormozi visual patterns aplicados em peÃ§as de conversÃ£o (ads, CTAs)"
          validation: "hormozi_visual_patterns.md lista hooks aplicados + references to ad prompts"
          on_fail: "BLOCK"
        - id: "G2-M4"
          criterion: "Variation matrix completa (tracking de todas variaÃ§Ãµes planejadas)"
          validation: "variation_matrix.xlsx tem â‰¥10 linhas com fields: concept, angle, style, format, prompt_id"
          on_fail: "BLOCK"
      should_meet:
        - id: "G2-S1"
          criterion: "Clareza e reprodutibilidade dos prompts (outro producer conseguiria executar?)"
          weight: 1.0
          min_score: 9
        - id: "G2-S2"
          criterion: "Text legibility design (prompts Nano Banana especificam font size, contrast, spacing)"
          weight: 1.0
          min_score: 8
      kill_criteria:
        - id: "G2-K1"
          criterion: "Prompts genÃ©ricos demais (sem brand identity, poderiam ser de qualquer hotel)"
          action: "RECYCLE para Phase 2 - reescrever prompts com brand specificity"
        - id: "G2-K2"
          criterion: "Text legibility nÃ£o considerada em prompts Nano Banana (vai falhar em mobile)"
          action: "HOLD + revisar prompts com constraints de legibilidade explÃ­citos"
      decision_options: ["GO", "KILL", "HOLD", "RECYCLE"]

    G3:
      name: "Generation â†’ Curation Gate"
      between: ["phase-3-generation", "phase-4-curation"]
      gatekeeper: "hotel-visual-producer"
      sla: "24h"
      must_meet:
        - id: "G3-M1"
          criterion: "MÃ­nimo 3 variaÃ§Ãµes geradas por peÃ§a especificada em production matrix"
          validation: "Contar arquivos em /curated/ - verificar â‰¥3 variations por concept"
          on_fail: "BLOCK"
        - id: "G3-M2"
          criterion: "ResoluÃ§Ã£o â‰¥ 1080p para 100% dos assets gerados"
          validation: "Script verificar image dimensions - all files â‰¥1080px em pelo menos uma dimensÃ£o"
          on_fail: "BLOCK"
        - id: "G3-M3"
          criterion: "Quality scores documentados (1-10) para todos assets"
          validation: "quality_scores.xlsx tem score para cada file em /curated/"
          on_fail: "BLOCK"
        - id: "G3-M4"
          criterion: "SynthID watermark presente em outputs Nano Banana (transparÃªncia AI)"
          validation: "Verificar metadata de images Nano Banana - SynthID flag presente"
          on_fail: "BLOCK"
      should_meet:
        - id: "G3-S1"
          criterion: "Generation success rate (assets usÃ¡veis vs total gerado)"
          weight: 1.0
          min_score: 6
          threshold: ">60%"
        - id: "G3-S2"
          criterion: "Consistency visual em carousel sequences (paleta, tipografia, estilo)"
          weight: 1.0
          min_score: 8
      kill_criteria:
        - id: "G3-K1"
          criterion: "Generation success rate <40% (muitos failures, quality baixa)"
          action: "RECYCLE para Phase 2 - prompts nÃ£o estÃ£o gerando output aceitÃ¡vel"
        - id: "G3-K2"
          criterion: "API failures persistentes (Google AI Studio ou OpenAI down >24h)"
          action: "HOLD + contingency: usar ferramenta alternativa ou aguardar resoluÃ§Ã£o"
      decision_options: ["GO", "KILL", "HOLD", "RECYCLE"]

    G4:
      name: "Curation â†’ Approval Gate"
      between: ["phase-4-curation", "phase-5-approval"]
      gatekeeper: "hotel-visual-producer"
      sla: "24h"
      must_meet:
        - id: "G4-M1"
          criterion: "Brand compliance score â‰¥8/10 para 100% dos assets selecionados"
          validation: "brand_compliance_report.xlsx - verificar all selected assets have score â‰¥8"
          on_fail: "BLOCK"
        - id: "G4-M2"
          criterion: "Mobile legibility score â‰¥9/10 para peÃ§as text-heavy (Nano Banana)"
          validation: "legibility_test_results.xlsx - all Nano assets score â‰¥9"
          on_fail: "BLOCK"
        - id: "G4-M3"
          criterion: "Mockup approval document pronto e bem apresentado para humano"
          validation: "mockup_approval.pdf existe, â‰¥5 pÃ¡ginas, assets organizados por categoria"
          on_fail: "BLOCK"
        - id: "G4-M4"
          criterion: "Carousel flow validado por social-creator (storytelling visual ok)"
          validation: "carousel_flow_feedback.md existe com approval note de @hotel-social-creator"
          on_fail: "BLOCK"
      should_meet:
        - id: "G4-S1"
          criterion: "Emotional impact score â‰¥7/10 para ads e hero images"
          weight: 1.0
          min_score: 7
        - id: "G4-S2"
          criterion: "Composite quality score mÃ©dio â‰¥8/10"
          weight: 1.0
          min_score: 8
      kill_criteria:
        - id: "G4-K1"
          criterion: "Brand compliance failures >30% (nÃ£o parecem do hotel, identidade perdida)"
          action: "RECYCLE para Phase 2 - prompts nÃ£o capturam brand identity adequadamente"
        - id: "G4-K2"
          criterion: "Mobile legibility failures >20% (texto ilegÃ­vel em smartphone)"
          action: "RECYCLE para Phase 2 - ajustar prompts Nano com constraints de legibilidade"
      decision_options: ["GO", "KILL", "HOLD", "RECYCLE"]

    G5:
      name: "âš ï¸ HUMAN APPROVAL GATE - CRITICAL NON-NEGOTIABLE"
      between: ["phase-5-approval", "phase-6-export"]
      gatekeeper: "âš ï¸ Hotel Manager/Owner (HUMAN) facilitated by hotel-mkt-chief"
      sla: "48h (2 dias - pode ter atÃ© 2 revision rounds)"
      must_meet:
        - id: "G5-M1"
          criterion: "âš ï¸ CRITICAL: Hotel manager/owner aprovou EXPLICITAMENTE todas peÃ§as apresentadas"
          validation: "approval_record.json tem campo 'approved_by' = [nome do humano] + timestamp"
          on_fail: "BLOCK - nÃ£o pode exportar sem human approval"
        - id: "G5-M2"
          criterion: "âš ï¸ CRITICAL: Sem erros factuais em text overlays (preÃ§os corretos, datas corretas, ofertas vÃ¡lidas)"
          validation: "Human verification during approval meeting - chief documenta em human_feedback.json"
          on_fail: "BLOCK - fix factual errors, re-submit"
        - id: "G5-M3"
          criterion: "âš ï¸ CRITICAL: Brand alignment confirmado pelo humano (nÃ£o apenas pelo agent)"
          validation: "human_feedback.json tem nota 'brand_alignment: approved' pelo humano"
          on_fail: "BLOCK - ajustar peÃ§as ou recycle"
        - id: "G5-M4"
          criterion: "AprovaÃ§Ã£o documentada formalmente (timestamp, nome aprovador, lista de assets aprovados)"
          validation: "approval_record.json bem formatado com todos campos obrigatÃ³rios preenchidos"
          on_fail: "BLOCK"
      should_meet:
        - id: "G5-S1"
          criterion: "AprovaÃ§Ã£o obtida em â‰¤2 revision rounds (eficiÃªncia, evitar infinite loop)"
          weight: 1.0
          min_score: 8
          note: "Se >2 rounds, indica fundamental creative misalignment - escalar"
        - id: "G5-S2"
          criterion: "Human feedback positivo sobre emotional tone e target audience fit"
          weight: 0.5
          min_score: 7
      kill_criteria:
        - id: "G5-K1"
          criterion: "âš ï¸ Humano rejeita TODA direÃ§Ã£o criativa apÃ³s 2 revision rounds (fundamental misalignment)"
          action: "KILL workflow + escalar: reuniÃ£o Chief + Humano para redefinir creative direction. Restart Phase 1 com novo input."
        - id: "G5-K2"
          criterion: "âš ï¸ Humano identifica erro factual crÃ­tico que invalida campanha (ex: preÃ§o errado, oferta ilegal)"
          action: "HOLD + fix urgente: corrigir erro, regenerar assets afetados, re-submit para approval"
        - id: "G5-K3"
          criterion: "Humano nÃ£o disponÃ­vel para approval por >7 dias (bloqueio de timeline)"
          action: "HOLD + escalar: Chief encontra substitute approver (operations manager?) ou aguarda retorno"
      decision_options: ["GO", "KILL", "HOLD", "RECYCLE"]
      blocking: true
      critical: true

    G6:
      name: "Export â†’ Delivery Gate"
      between: ["phase-6-export", "completed"]
      gatekeeper: "hotel-visual-producer"
      sla: "24h"
      must_meet:
        - id: "G6-M1"
          criterion: "100% dos assets exportados em todos formatos e tamanhos requeridos"
          validation: "Checklist contra production_matrix.xlsx - todos outputs presentes em /final_assets/"
          on_fail: "BLOCK"
        - id: "G6-M2"
          criterion: "Handoffs enviados a todos agentes solicitantes com acknowledgment recebido"
          validation: "handoff_notifications.json lista all requesting agents com 'acknowledged: true'"
          on_fail: "BLOCK"
        - id: "G6-M3"
          criterion: "Archive package criado e stored em repositÃ³rio central"
          validation: "visual_production_[campaign].zip existe + master_archive_index.md atualizado com location"
          on_fail: "BLOCK"
        - id: "G6-M4"
          criterion: "prompts_archive.md documentado com prompts finais aprovados"
          validation: "prompts_archive.md existe, â‰¥10 prompts documentados com metadata completa"
          on_fail: "BLOCK"
      should_meet:
        - id: "G6-S1"
          criterion: "File size optimization (web assets <500KB)"
          weight: 1.0
          min_score: 8
        - id: "G6-S2"
          criterion: "production_report.pdf completo com learnings e recommendations"
          weight: 0.5
          min_score: 7
      kill_criteria:
        - id: "G6-K1"
          criterion: "Export failures tÃ©cnicos persistentes (corrupÃ§Ã£o de arquivos, formato errado)"
          action: "HOLD + fix technical issue, re-export"
      decision_options: ["GO", "HOLD"]

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AUTOMATED HANDOFFS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  handoffs:
    - id: "H1"
      from_phase: "phase-1-brief"
      to_phase: "phase-2-prompts"
      from_agent: "@hotel-mkt-chief"
      to_agent: "@hotel-visual-producer"
      trigger: "gate_G1_passed"
      deliverables:
        - name: "visual_style_guide.md"
          format: "markdown"
          required: true
        - name: "production_matrix.xlsx"
          format: "excel"
          required: true
        - name: "brand_checklist.json"
          format: "json"
          required: true
        - name: "creative_direction.md"
          format: "markdown"
          required: true
      acceptance_criteria:
        - "Visual style guide tem mood board com â‰¥5 referÃªncias"
        - "Production matrix completa com tool selection"
        - "Creative direction aprovada por Chief"
      sla: "12h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
        message: "Handoff H1 atrasado - Brief phase nÃ£o entregue"
      on_reject:
        action: "return_to_sender"
        message: "Brief incompleto. Faltam: [lista]. Prazo para correÃ§Ã£o: 24h."

    - id: "H2"
      from_phase: "phase-2-prompts"
      to_phase: "phase-3-generation"
      from_agent: "@hotel-visual-producer"
      to_agent: "@hotel-visual-producer"
      trigger: "gate_G2_passed"
      deliverables:
        - name: "prompts_library.md"
          format: "markdown"
          required: true
        - name: "variation_matrix.xlsx"
          format: "excel"
          required: true
        - name: "hormozi_visual_patterns.md"
          format: "markdown"
          required: true
      acceptance_criteria:
        - "MÃ­nimo 3 prompts por tipo de peÃ§a"
        - "Brand elements em 100% dos prompts"
        - "Variation matrix completa"
      sla: "12h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
      on_reject:
        action: "return_to_sender"
        message: "Prompts incompletos ou genÃ©ricos. Revisar com brand specificity."

    - id: "H3"
      from_phase: "phase-3-generation"
      to_phase: "phase-4-curation"
      from_agent: "@hotel-visual-producer"
      to_agent: "@hotel-visual-producer + @hotel-social-creator"
      trigger: "gate_G3_passed"
      deliverables:
        - name: "/curated/ (folder)"
          format: "directory"
          required: true
        - name: "quality_scores.xlsx"
          format: "excel"
          required: true
        - name: "carousel_consistency_report.md"
          format: "markdown"
          required: true
      acceptance_criteria:
        - "MÃ­nimo 3 variaÃ§Ãµes por peÃ§a geradas"
        - "Quality scores â‰¥7/10 para todos assets em /curated/"
        - "ResoluÃ§Ã£o â‰¥1080p verificada"
      sla: "12h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
      on_reject:
        action: "return_to_sender"
        message: "Generation quality insuficiente. Success rate <60%. Revisar prompts."

    - id: "H4"
      from_phase: "phase-4-curation"
      to_phase: "phase-5-approval"
      from_agent: "@hotel-visual-producer + @hotel-social-creator"
      to_agent: "@hotel-mkt-chief"
      trigger: "gate_G4_passed"
      deliverables:
        - name: "mockup_approval.pdf"
          format: "pdf"
          required: true
        - name: "carousel_preview.html"
          format: "html"
          required: true
        - name: "/selected_for_approval/ (folder)"
          format: "directory"
          required: true
        - name: "master_scores.xlsx"
          format: "excel"
          required: true
      acceptance_criteria:
        - "Brand compliance â‰¥8/10 para 100% assets"
        - "Mobile legibility â‰¥9/10 para text-heavy pieces"
        - "Mockup document bem apresentado"
      sla: "24h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
      on_reject:
        action: "return_to_sender"
        message: "Curadoria insuficiente. Problemas: [lista]. Revisar scoring."

    - id: "H5"
      from_phase: "phase-5-approval"
      to_phase: "phase-6-export"
      from_agent: "@hotel-mkt-chief"
      to_agent: "@hotel-visual-producer"
      trigger: "gate_G5_passed"
      deliverables:
        - name: "approval_record.json"
          format: "json"
          required: true
        - name: "human_feedback.json"
          format: "json"
          required: true
        - name: "/selected_for_approval/ (approved subset)"
          format: "directory"
          required: true
      acceptance_criteria:
        - "âš ï¸ Human approval explÃ­cito documentado"
        - "Sem erros factuais em text overlays"
        - "Brand alignment confirmado pelo humano"
      sla: "12h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
      on_reject:
        action: "pause_workflow"
        message: "Human approval pendente. Aguardar decisÃ£o ou processar revision requests."

    - id: "H6"
      from_phase: "phase-6-export"
      to_phase: "completed"
      from_agent: "@hotel-visual-producer"
      to_agent: "[requesting agents]"
      trigger: "gate_G6_passed"
      deliverables:
        - name: "final_assets.zip"
          format: "zip"
          required: true
        - name: "carousel_preview.html"
          format: "html"
          required: true
        - name: "prompts_archive.md"
          format: "markdown"
          required: true
        - name: "production_report.pdf"
          format: "pdf"
          required: true
      acceptance_criteria:
        - "Todos assets exportados em formatos requeridos"
        - "Handoffs acknowledged por requesting agents"
        - "Archive package stored em repositÃ³rio"
      sla: "24h"
      on_timeout:
        action: "escalate"
        notify: "@hotel-mkt-chief"
      on_reject:
        action: "return_to_sender"
        message: "Export incompleto. Faltando formatos: [lista]. Corrigir e reenviar."

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # AUTO-ROLLBACK TRIGGERS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  auto_rollback:
    triggers:
      - id: "R1"
        condition: "Quality scores consistentemente baixos (<6/10) em Phase 3 apÃ³s 2 batches"
        action: "pause"
        recovery: "1. Analisar prompts: muito genÃ©ricos? Brand elements ausentes? 2. Ajustar configuraÃ§Ãµes de geraÃ§Ã£o (guidance scale, steps). 3. Testar em small batch (5 assets). 4. Se ok, continuar. Se nÃ£o, RECYCLE para Phase 2."
        notify: "@hotel-visual-producer"
      - id: "R2"
        condition: "Brand compliance failures >30% em Phase 4"
        action: "recycle"
        recovery: "1. RECYCLE para Phase 2 (Prompt Engineering). 2. Revisar brand_checklist.json - todos elementos cobertos? 3. Reescrever prompts com brand specificity aumentada. 4. Regenerar batch de teste. 5. Validar brand compliance antes de full generation."
        notify: "@hotel-visual-producer + @hotel-mkt-chief"
      - id: "R3"
        condition: "Text legibility failures >20% em Phase 4 (Nano Banana pieces)"
        action: "pause"
        recovery: "1. Pausar workflow. 2. Ajustar prompts Nano Banana com constraints explÃ­citos: 'minimum font size 18pt, high contrast (WCAG AA), ample spacing around text'. 3. Regenerar assets problemÃ¡ticos. 4. Re-testar legibility em mobile. 5. Continuar apÃ³s fix."
        notify: "@hotel-visual-producer"
      - id: "R4"
        condition: "Human rejeita >50% assets em primeira apresentaÃ§Ã£o (Phase 5)"
        action: "hold"
        recovery: "1. HOLD workflow. 2. ReuniÃ£o Chief + Humano: entender gaps (estilo? mensagem? brand?). 3. Coletar referÃªncias visuais do humano. 4. Decidir: minor adjustments (RECYCLE Phase 4) ou major rework (RECYCLE Phase 1). 5. Limitar a 2 revision rounds total."
        notify: "@hotel-mkt-chief + @hotel-visual-producer"
      - id: "R5"
        condition: "API failures ou rate limits persistentes (>24h downtime)"
        action: "pause"
        recovery: "1. Verificar status de Google AI Studio / OpenAI. 2. Se rate limit: aguardar reset ou usar API key alternativa. 3. Se downtime: considerar ferramenta alternativa (Midjourney, Stable Diffusion). 4. Se sem soluÃ§Ã£o: escalar para manual production (human designer). 5. Comunicar delay ao calling workflow."
        notify: "@hotel-visual-producer + @hotel-mkt-chief"
      - id: "R6"
        condition: "Workflow excede 7 dias (timeline target)"
        action: "escalate"
        recovery: "1. Identificar bottleneck phase. 2. Se Phase 5 (Human Approval): pressionar por decisÃ£o, limitar revision rounds a 1. 3. Se Phase 3 (Generation): paralelizar, otimizar batch processing. 4. Comunicar delay ao calling workflow, ajustar expectations. 5. Documentar learnings para futuras timelines."
        notify: "@hotel-mkt-chief"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NOTES & FUTURE IMPROVEMENTS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

notes:
  - "Este workflow Ã© CHAMADO por outros workflows (seasonal-campaign, content-machine, etc.) - sempre retorna ao calling workflow apÃ³s Phase 6"
  - "Human approval (Phase 5) Ã© NON-NEGOTIABLE - nÃ£o hÃ¡ bypass. Ã‰ o principal quality gate do pipeline."
  - "Nano Banana (Google): melhor para text-heavy (carrossÃ©is, infogrÃ¡ficos, ads com CTA). SynthID watermark obrigatÃ³rio para transparÃªncia."
  - "DALL-E (OpenAI): melhor para lifestyle, aspirational imagery, hero images sem texto. Sem watermark nativo - disclosure em caption recomendado."
  - "Prompts archive (Phase 6) Ã© CRÃTICO para reproduÃ§Ã£o futura - documentar seeds, configs, tudo."
  - "Se hotel nÃ£o tem brand guidelines: criar bÃ¡sicos antes de rodar workflow (cores, fonts, estilo fotogrÃ¡fico mÃ­nimo)."

future_improvements:
  - "IntegraÃ§Ã£o com Midjourney ou Stable Diffusion como fallback se Nano/DALL-E indisponÃ­veis"
  - "Automated brand compliance check usando vision model (GPT-4V ou Gemini Vision) para scoring automÃ¡tico"
  - "A/B testing automÃ¡tico: gerar variaÃ§Ãµes, testar em small audience, selecionar winner antes de scale"
  - "Prompt optimization loop: analisar quais prompts geraram assets aprovados, refinar prompts library over time"
  - "Integration com DAM (Digital Asset Management) para storage centralizado e versionamento"
  - "Automated carousel assembly: gerar 10 slides com narrative flow automÃ¡tico (storytelling engine)"
