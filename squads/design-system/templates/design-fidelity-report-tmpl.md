# Design Fidelity Report

**Reference:** {{reference_name}}
**Implementation:** {{implementation_path}}
**Generated:** {{timestamp}}
**Fidelity Score:** {{overall_score}}%

---

## Summary

| Category | Matches | Total | Score |
|----------|---------|-------|-------|
| Colors | {{colors_match}} | {{colors_total}} | {{colors_score}}% |
| Spacing | {{spacing_match}} | {{spacing_total}} | {{spacing_score}}% |
| Typography | {{typography_match}} | {{typography_total}} | {{typography_score}}% |
| Effects | {{effects_match}} | {{effects_total}} | {{effects_score}}% |
| **Overall** | **{{total_match}}** | **{{total_total}}** | **{{overall_score}}%** |

---

## Score Interpretation

| Score | Grade | Meaning |
|-------|-------|---------|
| 95-100% | A | Production ready |
| 85-94% | B | Minor adjustments needed |
| 70-84% | C | Significant drift |
| 50-69% | D | Major revision required |
| <50% | F | Rebuild recommended |

**This implementation:** Grade {{grade}}

---

## Color Comparison

| Token | Design | Code | Match | Fix |
|-------|--------|------|-------|-----|
{{#each colors}}
| {{this.name}} | {{this.design}} | {{this.code}} | {{this.status}} | {{this.fix}} |
{{/each}}

---

## Spacing Comparison

| Location | Design | Code | Match | Fix |
|----------|--------|------|-------|-----|
{{#each spacing}}
| {{this.location}} | {{this.design}} | {{this.code}} | {{this.status}} | {{this.fix}} |
{{/each}}

---

## Typography Comparison

| Element | Design | Code | Match | Fix |
|---------|--------|------|-------|-----|
{{#each typography}}
| {{this.element}} | {{this.design}} | {{this.code}} | {{this.status}} | {{this.fix}} |
{{/each}}

---

## Effects Comparison

| Effect | Design | Code | Match |
|--------|--------|------|-------|
{{#each effects}}
| {{this.name}} | {{this.design}} | {{this.code}} | {{this.status}} |
{{/each}}

---

## Actionable Fixes

### Priority 1: High Impact
{{#each fixes_priority_1}}
{{this.index}}. **{{this.description}}:** `{{this.from}}` -> `{{this.to}}`
   - Files: {{this.files}}
   - Impact: {{this.impact}} instances
{{/each}}

### Priority 2: Medium Impact
{{#each fixes_priority_2}}
{{this.index}}. **{{this.description}}:** `{{this.from}}` -> `{{this.to}}`
   - Files: {{this.files}}
   - Impact: {{this.impact}} instances
{{/each}}

### Priority 3: Low Impact
{{#each fixes_priority_3}}
{{this.index}}. **{{this.description}}:** `{{this.from}}` -> `{{this.to}}`
   - Files: {{this.files}}
   - Impact: {{this.impact}} instances
{{/each}}

---

## Token Recommendations

Based on this analysis, consider adding/updating these tokens:

```yaml
{{token_recommendations}}
```

---

## Extracted Design Tokens

Reference: `{{design_yaml_path}}`

```yaml
{{design_tokens_yaml}}
```

---

## Extracted Code Tokens

Reference: `{{code_yaml_path}}`

```yaml
{{code_tokens_yaml}}
```

---

## Next Steps

1. [ ] Apply Priority 1 fixes ({{priority_1_count}} changes)
2. [ ] Apply Priority 2 fixes ({{priority_2_count}} changes)
3. [ ] Apply Priority 3 fixes ({{priority_3_count}} changes)
4. [ ] Re-run `*design-compare` to validate improvements
5. [ ] Update tokens.yaml with recommendations
6. [ ] Run `*validate-tokens` to ensure no hardcoded values

---

## Comparison Thresholds Used

| Category | Threshold | Method |
|----------|-----------|--------|
| Colors | 5% | HSL distance |
| Spacing | ±4px | Absolute difference |
| Typography size | ±2px | Absolute difference |
| Typography weight | exact | Exact match |
| Border radius | ±2px | Absolute difference |

---

*Generated by Brad Frost (Design System Architect) v3.5.0*
*Command: `*design-compare {{reference_name}} {{implementation_path}}`*
